---
// src/layouts/Layout.astro
import Footer from "../components/Footer.astro";
const { title = "", description } = Astro.props;
import "../../css/style.css";

// ØªØ¹Ø±ÙŠÙ Ø§Ù„ØªØ±Ø¬Ù…Ø©
const translations = {
  ar: {
    home: "ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    articles: "ğŸ“š Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª",
  },
  en: {
    home: "ğŸ  Home",
    articles: "ğŸ“š Articles",
  },
} as const; // Ù†Ø®Ù„ÙŠÙ‡Ø§ Ø«Ø§Ø¨ØªØ© Ø¨Ø§Ù„Ø£Ù†ÙˆØ§Ø¹

// Ø®Ù„ÙŠ Ø§Ù„Ù„ØºØ© Ù†ÙˆØ¹Ù‡Ø§ union Ù…Ø´ string
let lang: "ar" | "en" = "ar";
---

<html lang={lang} dir={lang === "ar" ? "rtl" : "ltr"}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/png" href="/favicon64.png" />
    <meta name="theme-color" content="#1f8ef1" />
    <!-- Ø¶Ø±ÙˆØ±ÙŠ HTTPS Ø¹Ù„Ø´Ø§Ù† ÙŠØ¸Ù‡Ø± Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª -->

    <script type="module" src="/js/register-sw.js"></script>
    <script type="module" src="/js/lang.js"></script>

    <!-- Ø®Ø·ÙˆØ· Ø¬ÙˆØ¬Ù„ -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Changa&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Reem+Kufi&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Impact&display=swap" rel="stylesheet" />

    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- <link rel="stylesheet" href="/global.css" /> -->
  </head>
  <body>

    <script>
      (function () {
        const saved = localStorage.getItem("lang") || "ar";
        document.documentElement.lang = saved;
        document.documentElement.dir = saved === "ar" ? "rtl" : "ltr";
      })();
    </script>
    
    <!-- <div class="ad-space">
      Ù…Ø³Ø§Ø­ØªÙƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ù‡Ù†Ø§
    </div> -->

    <!-- <slot /> -->
    <main>
  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø«Ø§Ø¨Øª -->
  <header class="page-header" style=" width: 100%; display: flex; align-items: center; justify-content: space-around; padding: 0.0rem 1rem; background: #00000000; border-radius: 0 0 8px 8px; box-sizing: border-box; margin: auto; z-index: 999; ">
    <nav class="header-nav">
      <a href="/">{translations[lang].home}</a>
      <span class="divider">|</span>
      <a href="/articles">{translations[lang].articles}</a>

      <select id="lang-switch">
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="en">English</option>
      </select>
    </nav>
    <!-- <nav class="header-nav">
      <a href="/">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <span class="divider">|</span>
      <a href="/articles">ğŸ“š Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a>
      
      <select id="lang-switch" style="margin-left:8px;">
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="en">English</option>
      </select>
      
    </nav> -->
    <div class="header-left">
      <img src="/favicon.png" alt="LOLME" class="logo" style="margin-bottom: -5px;"/>
    </div>
  </header>

  <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  {Astro.props.title && (
    <div class="page-title">
      <h1>{Astro.props.title}</h1>
      {Astro.props.description && (
        <p class="description">{Astro.props.description}</p>
      )}
    </div>
  )}
      <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©/Ø§Ù„Ù…Ù‚Ø§Ù„ -->
      <slot />
    </main>
    <!-- <div class="ad-space">
      <a href="https://www.easy-orders.net?view=646de210-fb46-4b6c-b20e-f1372660dc86" target="_blank" rel="nofollow noopener noreferrer">
        <img src="/images/easy-orders-banner.jpg" alt="Easy Orders" style="max-width:100%; height:auto; border-radius:8px;" />
      </a>
    </div> -->
    
    <div class="ad-space">Ù…Ø³Ø§Ø­ØªÙƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ù‡Ù†Ø§</div>

    <Footer />
  </body>
</html>