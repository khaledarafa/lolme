---
// src/layouts/Layout.astro
import Footer from "../components/Footer.astro";
const { title = "", description } = Astro.props;
import "../../css/style.css";

// ØªØ¹Ø±ÙŠÙ Ø§Ù„ØªØ±Ø¬Ù…Ø©
const translations = {
  ar: { home: "ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", articles: "ğŸ“š Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª" },
  en: { home: "ğŸ  Home", articles: "ğŸ“š Articles" },
} as const;

// Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù„ØºØ© Ù…Ù† Ø§Ù„ÙƒÙˆÙƒÙŠØ² (Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯Ø©)
let lang: "ar" | "en" =
  (Astro.cookies.get("lang")?.value as "ar" | "en") || "ar";
---

<html lang={lang} dir={lang === "ar" ? "rtl" : "ltr"}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/png" href="/favicon64.png" />
    <meta name="theme-color" content="#1f8ef1" />
    <!-- Ø¶Ø±ÙˆØ±ÙŠ HTTPS Ø¹Ù„Ø´Ø§Ù† ÙŠØ¸Ù‡Ø± Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª -->

    <script type="module" src="/js/register-sw.js"></script>
    <script type="module" src="/js/lang.js"></script>

    <!-- Ø®Ø·ÙˆØ· Ø¬ÙˆØ¬Ù„ -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Changa&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Reem+Kufi&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Impact&display=swap" rel="stylesheet" />

    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- <link rel="stylesheet" href="/global.css" /> -->
  </head>
  <body>

    <script>
      (function () {
        const saved = localStorage.getItem("lang") || "ar";
        document.documentElement.lang = saved;
        document.documentElement.dir = saved === "ar" ? "rtl" : "ltr";
      })();
    </script>
    

    <!-- <slot /> -->
    <main>
  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø«Ø§Ø¨Øª -->
      <header class="page-header" style="display:flex;justify-content:space-around;align-items:center;width:94%;padding:0.5rem 1rem;background:#0000;">
        <nav class="header-nav">
          <a id="nav-home" href="/">{translations[lang].home}</a>
          <span class="divider">|</span>
          <a id="nav-articles" href="/articles">{translations[lang].articles}</a>

          <select id="lang-switch">
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">English</option>
          </select>
        </nav>
    <!-- <nav class="header-nav">
      <a href="/">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <span class="divider">|</span>
      <a href="/articles">ğŸ“š Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a>
      
      <select id="lang-switch" style="margin-left:8px;">
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="en">English</option>
      </select>
      
    </nav> -->
    <div class="header-left">
      <img src="/favicon.png" alt="LOLME" class="logo" style="margin-bottom: -5px;"/>
    </div>
  </header>

  <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  {Astro.props.title && (
    <div class="page-title">
      <h1>{Astro.props.title}</h1>
      {Astro.props.description && (
        <p class="description">{Astro.props.description}</p>
      )}
    </div>
  )}
      <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©/Ø§Ù„Ù…Ù‚Ø§Ù„ -->
      <slot />
    </main>
    <div class="ad-space">Ù…Ø³Ø§Ø­ØªÙƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ù‡Ù†Ø§</div>

    <Footer />
  </body>
</html>
<style>
  .page-title {
  max-width: 1000px;      /* Ù†ÙØ³ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„ */
  margin: 20px auto;       /* ÙŠØ³Ù†ØªØ± Ø§Ù„Ù€ div Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© */
  text-align: center;      /* ÙŠØ³Ù†ØªØ± Ø§Ù„Ù†ØµÙˆØµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ div */
  padding: 0 15px;         /* Ù…Ø³Ø§ÙØ© Ø¯Ø§Ø®Ù„ÙŠØ© Ø¨Ø³ÙŠØ·Ø© */
}

.page-title h1 {
  font-size: 2rem;
  margin-bottom: 10px;
}

.page-title .description {
  font-size: 1.1rem;
  color: #555;
  line-height: 1.6;
}

</style>