---
// src/pages/mememob-en.astro
import Layout from "../../layouts/Layout.astro";
---

<Layout>

<div style="display:flex; flex-direction:column; margin:0; padding:0;">
  <!-- canvas -->
  <div style="display:flex; justify-content:center; align-items:center; background:#f6f6f6; position:relative;">
    <canvas id="memeCanvas" style="max-width:100%; max-height:100%; touch-action:none;"></canvas>
  </div>

  <!-- drawer tools at bottom -->
  <div id="drawer" style="
    position:fixed; bottom:0; left:0; right:0;
    background:white; border-top:1px solid #ccc;
    max-height:50%; overflow-y:auto; padding:10px;
    display:none; flex-direction:column; gap:10px; border-radius:10px;
  ">
    <label>Select a preset image:
      <select id="preset-select" style="width:100%;">
        <option value="/memes/drake.jpg">Drake</option>
        <option value="/memes/doge.jpg">Doge</option>
        <option value="/memes/crying.jpg">Crying</option>
      </select>
    </label>

    <label><input type="checkbox" id="darkOverlay" /> Dark overlay</label>
    <label><input type="checkbox" id="blurBackground" /> Blur background</label>


    <!-- ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
    <p style="color:#e74c3c; font-size:0.9rem; margin-bottom:5px;">
      âš ï¸ If the image doesn't upload, try refreshing or using a different browser.
    </p>

    <button id="upload-btn" style="padding:10px; background:#333; color:#fff; border:none; border-radius:5px; margin:10px 0;">
      ğŸ“¸ Or upload an image
    </button>
    <input type="file" id="upload-image" accept="image/*" style="display:none;">

    <label>ğŸ¯ Choose text category:
      <select id="category" style="width:100%;">
        <option value="any">ğŸ² Random from any</option>
      </select>
    </label>

    <div style="display:flex; gap:5px; margin-top:5px;">
      <button id="add-text" class="btn" style="flex:1;">â• Add text</button>
      <button id="random-meme" class="btn" style="flex:1; background:#3498db;">ğŸ² Random</button>
    </div>

    <div id="layers-container"></div>

    <div id="font-buttons" style="display:flex; gap:6px; overflow-x:auto; flex-wrap:nowrap; padding-bottom:5px;">
      <button class="font-btn" data-font="Impact" style="font-family:Impact;">Impact</button>
      <button class="font-btn" data-font="Anton" style="font-family:Anton;">Anton</button>
      <button class="font-btn" data-font="Arial" style="font-family:Arial, sans-serif;">Arial</button>
      <button class="font-btn" data-font="Roboto" style="font-family:Roboto, sans-serif;">Roboto</button>
      <button class="font-btn" data-font="'Comic Sans MS'" style="font-family:'Comic Sans MS', cursive;">Comic Sans</button>
      <button class="font-btn" data-font="'Courier New'" style="font-family:'Courier New', monospace;">Courier</button>
    </div>
    
    <div style="display:flex; gap:0.6rem;">
      <button id="download-btn" class="btn" style="flex:1; background:#2ecc71;">â¬‡ï¸ Download</button>
      <button id="share-btn" class="btn" style="flex:1; background:#9b59b6;">ğŸ”— Share</button>
    </div>
    <br><br><br><br><br>
  </div>

  <!-- drawer toggle button -->
  <button id="open-drawer" style="
    position:fixed; bottom:50px; left:50%; transform:translateX(-50%);
    padding:10px 20px; border-radius:25px; background:#3498db; color:white; font-size:1.1rem;
  ">âš™ï¸ Tools</button>
</div>

<script type="module" src="/js/mememob-en.js"></script>
</Layout>
<style>
  #font-buttons {
  display: flex;
  gap: 6px;
  overflow-x: auto;       /* ÙŠØ³Ù…Ø­ Ø¨Ø§Ù„Ø³Ø­Ø¨ Ø£ÙÙ‚ÙŠÙ‹Ø§ */
  overflow-y: hidden;     /* ÙŠÙ…Ù†Ø¹ Ø£ÙŠ scroll Ø±Ø£Ø³ÙŠ */
  flex-wrap: nowrap;      /* ÙŠÙ…Ù†Ø¹ Ø§Ù„ÙƒØ³Ø± Ù„Ø³Ø·ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø© */
  padding: 8px 0;         /* padding Ù…Ù†Ø§Ø³Ø¨ Ø¹Ù„Ø´Ø§Ù† ÙŠØ¨Ù‚Ù‰ Ù…Ø±ØªØ§Ø­ */
  min-height: 50px;       /* Ø§Ø±ØªÙØ§Ø¹ ÙƒØ§ÙÙŠ ÙŠØ¸Ù‡Ø± Ø§Ù„Ø²Ø±Ø§Ø± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
  -webkit-overflow-scrolling: touch; /* smooth scroll Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
}

.font-btn {
  flex: 0 0 auto;        /* ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªÙ…Ø¯Ø¯ Ø§Ù„ØºØ±ÙŠØ¨ */
  padding: 8px 14px;     /* Ø­Ø¬Ù… Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¶ØºØ· */
  font-size: 1rem;       /* Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø¯Ø§Ø®Ù„ Ø§Ù„Ø²Ø±Ø§Ø± */
  border: 1px solid #ccc;
  border-radius: 6px;
  background: #f0f0f0;
  cursor: pointer;
  white-space: nowrap;    /* Ù…Ù†Ø¹ Ø§Ù„ÙƒØ³Ø± */
}

.font-btn.active {
  background: #3498db;
  color: white;
  border-color: #3498db;
}

</style>