---
// src/pages/mememobnew.astro
import Layout from "../layouts/Layout.astro";
---

<Layout title="">

<div style="display:flex; flex-direction:column; margin:0; padding:0;">
  <div style="display:flex; flex-direction:column; margin:0; padding:0;">

    <!-- Ø£Ø²Ø±Ø§Ø± ØµØºÙŠØ±Ø© Ù„Ù„ØªØ¨Ø¯ÙŠÙ„ -->
    <div id="canvas-size-buttons" style="display:flex; gap:0.8rem; flex-wrap:wrap; margin-top:0.0rem; padding: 2px;">
      <!-- <label style="padding: 2px;">ğŸ“ Ø§Ø®ØªØ± Ù…Ù‚Ø§Ø³ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³:</label> -->
      <button type="button" data-size="original" style="font-size:0.7rem; padding:0.2rem 0.4rem;">ğŸ“·</button>
      <button type="button" data-size="1:1" style="font-size:0.7rem; padding:0.2rem 0.4rem;">1:1</button>
      <button type="button" data-size="16:9" style="font-size:0.7rem; padding:0.2rem 0.4rem;">16:9</button>
      <!-- <button type="button" data-size="9:16" style="font-size:0.7rem; padding:0.2rem 0.4rem;">9:16</button> -->
    </div>
  </div>

  <!-- Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³ -->
  <div style="display:flex; justify-content:center; align-items:center; background:#f6f6f6; position:relative;">
    <canvas id="memeCanvas" style="max-width:100%; max-height:60vh; touch-action:none;"></canvas>
  </div>

  <!-- gallery Ø§Ù„ØµÙˆØ± -->
  <div id="meme-gallery" style="display:flex; gap:8px; overflow-x:auto; padding:8px; scroll-behavior:smooth;"></div>

  <!-- drawer Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø© -->
  <div id="drawer" style="
    position:fixed; bottom:0; left:0; right:0;
    background:white; border-top:1px solid #ccc;
    max-height:50%; overflow-y:auto; padding:10px;
    display:none; flex-direction:column; gap:10px; border-radius:10px;
  ">

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ¦Ø§Øª -->
    <div id="category-buttons" style="margin-bottom:8px;"></div>

    <label><input type="checkbox" id="darkOverlay" /> Ø·Ø¨Ù‚Ø© ØºØ§Ù…Ù‚Ø©</label>
    <label><input type="checkbox" id="blurBackground" /> Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø§Ù„Ø®Ù„ÙÙŠØ©</label>

    <label style="display:block; margin-top:0.6rem;">
      Ø£Ùˆ Ø§Ø±ÙØ¹ ØµÙˆØ±Ø©:
      <input type="file" id="upload-image" accept="image/*" />
    </label>

    <label for="category" style="margin-top:0.6rem;" >ğŸ¯ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù…Ù„:</label>
    <select id="category" style="width:100%; margin-top:0.4rem;">
      <option value="any">ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø£ÙŠ Ø­Ø§Ø¬Ø©</option>
    </select>

    <hr style="margin:12px 0;" />

    <div style="display:flex; gap:0.5rem; align-items:center;">
      <button id="add-text" class="btn" style="flex:1;">â• Ø¥Ø¶Ø§ÙØ© Ù†Øµ</button>
      <button id="random-meme" class="btn" style="flex:1; background:#3498db;">ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
      <button id="random-text" class="btn" style="flex:1; background:#3498db;">ğŸ² Ù†Øµ Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
    </div>

    <div id="layers-container" style="margin-top:12px;"></div>

    <hr style="margin:12px 0;" />

    <div id="font-buttons" style="display:flex; flex-wrap:nowrap; gap:6px; overflow-x:auto; padding-bottom:5px;">
      <button class="font-btn" data-font="Tajawal" style="font-family:Tajawal;">Tajawal</button>
      <button class="font-btn" data-font="Amiri" style="font-family:Amiri;" >Amiri</button>
      <button class="font-btn" data-font="Cairo" style="font-family:Cairo;" >Cairo</button>
      <button class="font-btn" data-font="Changa" style="font-family:Changa;">Changa</button>
      <button class="font-btn" data-font="Reem Kufi" style="font-family:'Reem Kufi';">Reem</button>
      <button class="font-btn" data-font="Anton" style="font-family:Anton;" >Anton</button>
      <button class="font-btn" data-font="Impact" style="font-family:Impact;">Impact</button>
    </div>

    <div style="display:flex; gap:0.6rem;">
      <button id="download-btn" class="btn" style="flex:1; background:#2ecc71;">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</button>
      <button id="share-btn" class="btn" style="flex:1; background:#9b59b6;" >ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©</button>
    </div>
    <br><br><br>
  </div>

  <!-- Ø²Ø± ÙØªØ­ drawer -->
  <button id="open-drawer" style="
    position:fixed; bottom:50px; left:50%; transform:translateX(-50%);
    padding:10px 20px; border-radius:25px; background:#3498db; color:white; font-size:1.1rem;
  ">âš™ï¸ Ø£Ø¯ÙˆØ§Øª</button>

</div>

<script type="module" src="/js/meme.js"></script>
<script type="module" src="/js/drawer.js"></script>

<style>
  #font-buttons {
    display: flex;
    gap: 6px;
    overflow-x: auto;
    overflow-y: hidden;
    flex-wrap: nowrap;
    padding: 8px 0;
    min-height: 50px;
    -webkit-overflow-scrolling: touch;
  }
  .font-btn {
    flex: 0 0 auto;
    padding: 8px 14px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: #f0f0f0;
    cursor: pointer;
    white-space: nowrap;
  }
  .font-btn.active {
    background: #3498db;
    color: white;
    border-color: #3498db;
  }

  #canvas-size-buttons button.active {
  background-color: #007bff; /* Ø£Ø²Ø±Ù‚ Ù…Ø«Ù„ Ø§Ù„Ø¨ÙˆØªÙˆÙ† */
  color: #fff;
  font-weight: bold;
}

#meme-gallery img.active {
  border: 3px solid #007bff;
  transform: scale(1.05);
}

#category-buttons button.active {
  background: #007bff;
  color: #fff;
  border-radius: 6px;
}
.category-btn.active {
  background-color: #007bff;
  color: #fff;
}

</style>

</Layout>












<!-- ---
// src/pages/mememob.astro
import Layout from "../layouts/Layout.astro";
---

<Layout>

<div style="display:flex; flex-direction:column; margin:0; padding:0;">
  
  <div style="display:flex; justify-content:center; align-items:center; background:#f6f6f6; position:relative;">
    <canvas id="memeCanvas" style="max-width:100%; max-height:100%; touch-action:none;"></canvas>
  </div>
  <div id="drawer" style="
    position:fixed; bottom:0; left:0; right:0;
    background:white; border-top:1px solid #ccc;
    max-height:50%; overflow-y:auto; padding:10px;
    display:none; flex-direction:column; gap:10px; border-radius:10px;
  ">
    

    <label>Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø¬Ø§Ù‡Ø²Ø©:
      <select id="preset-select" style="width:100%;">
        <option value="/memes/drake.jpg">Drake</option>
        <option value="/memes/doge.jpg">Doge</option>
        <option value="/memes/crying.jpg">Crying</option>
      </select>
    </label>

    <label><input type="checkbox" id="darkOverlay" /> Ø·Ø¨Ù‚Ø© ØºØ§Ù…Ù‚Ø©</label>
    <label><input type="checkbox" id="blurBackground" /> Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø§Ù„Ø®Ù„ÙÙŠØ©</label>

    
    <p style="color:#e74c3c; font-size:0.9rem; margin-bottom:5px;">
      âš ï¸ Ù„Ùˆ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø§ Ø§ØªØ±ÙØ¹ØªØ´ØŒ Ø¬Ø±Ø¨ ØªØ­Ø¯ÙŠØ« Ù…ØªØµÙØ­ Ù…ØªØµÙØ­ Ø§Ø®Ø±.
    </p>

    <button id="upload-btn" style="padding:10px; background:#333; color:#fff; border:none; border-radius:5px; margin:10px 0;">
      ğŸ“¸ Ø§Ø®ØªØ± ØµÙˆØ±Ø©
    </button>
    <input type="file" id="upload-image" accept="image/*" style="display:none;">

    <label>ğŸ¯ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù…Ù„:
      <select id="category" style="width:100%;">
        <option value="any">ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø£ÙŠ Ø­Ø§Ø¬Ø©</option>
      </select>
    </label>

    <div style="display:flex; gap:5px; margin-top:5px;">
      <button id="add-text" class="btn" style="flex:1;">â• Ø¥Ø¶Ø§ÙØ© Ù†Øµ</button>
      <button id="random-meme" class="btn" style="flex:1; background:#3498db;">ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
    </div>

    <div id="layers-container"></div>

    <div id="font-buttons" style="display:flex; gap:6px; overflow-x:auto; flex-wrap:nowrap; padding-bottom:5px;">
      <button class="font-btn" data-font="Tajawal" style="font-family:Tajawal;">Tajawal</button>
      <button class="font-btn" data-font="Amiri" style="font-family:Amiri;">Amiri</button>
      <button class="font-btn" data-font="Cairo" style="font-family:Cairo;">Cairo</button>
      <button class="font-btn" data-font="Changa" style="font-family:Changa;">Changa</button>
      <button class="font-btn" data-font="Reem Kufi" style="font-family:'Reem Kufi';">Reem</button>
      <button class="font-btn" data-font="Anton" style="font-family:Anton;">Anton</button>
      <button class="font-btn" data-font="Impact" style="font-family:Impact;">Impact</button>
    </div>

    <div style="display:flex; gap:0.6rem;">
      <button id="download-btn" class="btn" style="flex:1; background:#2ecc71;">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</button >
      <button id="share-btn" class="btn" style="flex:1; background:#9b59b6;" >ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©</button >
    </div>
    <br><br><br><br><br>
  </div>

  <button id="open-drawer" style="
    position:fixed; bottom:50px; left:50%; transform:translateX(-50%);
    padding:10px 20px; border-radius:25px; background:#3498db; color:white; font-size:1.1rem;
  ">âš™ï¸ Ø£Ø¯ÙˆØ§Øª</button>
</div>

<script type="module" src="/js/mememob.js"></script>
</Layout> -->
<!-- <style>
  #font-buttons {
  display: flex;
  gap: 6px;
  overflow-x: auto;     
  overflow-y: hidden;     
  padding: 8px 0;       
  flex-wrap: nowrap;    
  min-height: 50px;     
  -webkit-overflow-scrolling: touch;
}

.font-btn {
  flex: 0 0 auto;        
  padding: 8px 14px;     
  font-size: 1rem;       
  border: 1px solid #ccc;
  border-radius: 6px;
  background: #f0f0f0;
  cursor: pointer;
  white-space: nowrap;   
}

.font-btn.active {
  background: #3498db;
  color: white;
  border-color: #3498db;
}
</style> -->